{"ast":null,"code":"/**\n * @fileoverview receives a product_id as param in url\n * @returns json containing product description. * \n */\nconst axios = require('axios').default;\n\nconst transform = inputObject => {\n  const outputObject = {\n    author: {\n      name: \"Diego M.\",\n      lastname: \"Maldini Freyre\"\n    },\n    item: {\n      id: inputObject.id,\n      title: inputObject.title,\n      price: {\n        currency: inputObject.currency_id,\n        amount: Math.floor(inputObject.price),\n        decimals: Math.floor((inputObject.price - Math.floor(inputObject.price)) * 100)\n      },\n      picture: inputObject.thumbnail,\n      condition: inputObject.condition,\n      free_shipping: inputObject.shipping.free_shipping,\n      sold_quantity: inputObject.sold_quantity,\n      description: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium repellat et molestias hic fugiat quisquam quos eaque deleniti odio quas a officia tempore modi nulla, quod, culpa saepe animi magnam? Expedita deserunt qui, quod recusandae debitis optio quas aut nam quo accusantium iure, amet quaerat totam dignissimos, ratione rerum commodi.\"\n    }\n  };\n  return outputObject;\n};\n/* const getDescriptionString = (object) => {\n    const itemDescriptionURL = `https://api.mercadolibre.com/items/${object.item.id}/description`;\n    axios.get(itemDescriptionURL)\n        .then(response => response.data.plain_text)\n        .then(res => { return res })\n        .catch(error => console.log(error))\n}; */\n\n\nconst getProductDescription = (req, res) => {\n  const itemURL = `https://api.mercadolibre.com/items/${req.params.id}`;\n  axios.get(itemURL).then(response => res.send(transform(response.data))) // .then(response => transform(response.data))\n  // .then(object => getDescriptionString(object))\n  .catch(error => console.log(error));\n};\n\nmodule.exports = getProductDescription;","map":{"version":3,"sources":["/home/ubuntu/Escritorio/github/app-011-meli-assignment/functions/getProductDescription.js"],"names":["axios","require","default","transform","inputObject","outputObject","author","name","lastname","item","id","title","price","currency","currency_id","amount","Math","floor","decimals","picture","thumbnail","condition","free_shipping","shipping","sold_quantity","description","getProductDescription","req","res","itemURL","params","get","then","response","send","data","catch","error","console","log","module","exports"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AAEA,MAAMC,SAAS,GAAGC,WAAW,IAAI;AAC7B,QAAMC,YAAY,GAAG;AACjBC,IAAAA,MAAM,EAAE;AACJC,MAAAA,IAAI,EAAE,UADF;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KADS;AAKjBC,IAAAA,IAAI,EAAE;AACFC,MAAAA,EAAE,EAAEN,WAAW,CAACM,EADd;AAEFC,MAAAA,KAAK,EAAEP,WAAW,CAACO,KAFjB;AAGFC,MAAAA,KAAK,EAAE;AACHC,QAAAA,QAAQ,EAAET,WAAW,CAACU,WADnB;AAEHC,QAAAA,MAAM,EAAEC,IAAI,CAACC,KAAL,CAAWb,WAAW,CAACQ,KAAvB,CAFL;AAGHM,QAAAA,QAAQ,EAAEF,IAAI,CAACC,KAAL,CAAW,CAACb,WAAW,CAACQ,KAAZ,GAAoBI,IAAI,CAACC,KAAL,CAAWb,WAAW,CAACQ,KAAvB,CAArB,IAAsD,GAAjE;AAHP,OAHL;AAQFO,MAAAA,OAAO,EAAEf,WAAW,CAACgB,SARnB;AASFC,MAAAA,SAAS,EAAEjB,WAAW,CAACiB,SATrB;AAUFC,MAAAA,aAAa,EAAElB,WAAW,CAACmB,QAAZ,CAAqBD,aAVlC;AAWFE,MAAAA,aAAa,EAAEpB,WAAW,CAACoB,aAXzB;AAYFC,MAAAA,WAAW,EAAE;AAZX;AALW,GAArB;AAoBA,SAAOpB,YAAP;AACH,CAtBD;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMqB,qBAAqB,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxC,QAAMC,OAAO,GAAI,sCAAqCF,GAAG,CAACG,MAAJ,CAAWpB,EAAG,EAApE;AACAV,EAAAA,KAAK,CAAC+B,GAAN,CAAUF,OAAV,EACKG,IADL,CACUC,QAAQ,IAAIL,GAAG,CAACM,IAAJ,CAAS/B,SAAS,CAAC8B,QAAQ,CAACE,IAAV,CAAlB,CADtB,EAEI;AACA;AAHJ,GAIKC,KAJL,CAIWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAJpB;AAKH,CAPD;;AASAG,MAAM,CAACC,OAAP,GAAiBf,qBAAjB","sourcesContent":["/**\n * @fileoverview receives a product_id as param in url\n * @returns json containing product description. * \n */\nconst axios = require('axios').default;\n\nconst transform = inputObject => {\n    const outputObject = {\n        author: {\n            name: \"Diego M.\",\n            lastname: \"Maldini Freyre\"\n        },\n        item: {\n            id: inputObject.id,\n            title: inputObject.title,\n            price: {\n                currency: inputObject.currency_id,\n                amount: Math.floor(inputObject.price),\n                decimals: Math.floor((inputObject.price - Math.floor(inputObject.price)) * 100)\n            },\n            picture: inputObject.thumbnail,\n            condition: inputObject.condition,\n            free_shipping: inputObject.shipping.free_shipping,\n            sold_quantity: inputObject.sold_quantity,\n            description: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium repellat et molestias hic fugiat quisquam quos eaque deleniti odio quas a officia tempore modi nulla, quod, culpa saepe animi magnam? Expedita deserunt qui, quod recusandae debitis optio quas aut nam quo accusantium iure, amet quaerat totam dignissimos, ratione rerum commodi.\"\n        }\n    }\n    return outputObject;\n}\n\n/* const getDescriptionString = (object) => {\n    const itemDescriptionURL = `https://api.mercadolibre.com/items/${object.item.id}/description`;\n    axios.get(itemDescriptionURL)\n        .then(response => response.data.plain_text)\n        .then(res => { return res })\n        .catch(error => console.log(error))\n}; */\n\nconst getProductDescription = (req, res) => {\n    const itemURL = `https://api.mercadolibre.com/items/${req.params.id}`\n    axios.get(itemURL)\n        .then(response => res.send(transform(response.data)))\n        // .then(response => transform(response.data))\n        // .then(object => getDescriptionString(object))\n        .catch(error => console.log(error))\n};\n\nmodule.exports = getProductDescription;"]},"metadata":{},"sourceType":"script"}
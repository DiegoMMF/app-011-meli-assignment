{"ast":null,"code":"import _regeneratorRuntime from\"/home/ubuntu/Escritorio/github/app-011-meli-assignment/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ubuntu/Escritorio/github/app-011-meli-assignment/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ubuntu/Escritorio/github/app-011-meli-assignment/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import axios from'axios';import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import Breadcrumbs from'../components/Breadcrumbs';import ItemDetails from'../components/ItemDetails';import SearchBar from'../components/SearchBar';export default function ProductDetails(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),categoryID=_useState4[0],setCategoryID=_useState4[1];useEffect(function(){// buscamos, por medio de la custom api, productos según query ingresada\nvar fetches=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,fetchResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios(\"https://app-meli-test.herokuapp.com/api/items/\".concat(id));case 2:result=_context.sent;setProduct(result.data);// buscamos id de la categoría del producto\nif(!(product!==undefined)){_context.next=9;break;}_context.next=7;return axios(\"https://api.mercadolibre.com/items/\".concat(product.item.id));case 7:fetchResult=_context.sent;setCategoryID(fetchResult.data.category_id);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetches(){return _ref.apply(this,arguments);};}();fetches();},[id,product]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{}),product!==undefined?/*#__PURE__*/_jsx(Breadcrumbs,{category:categoryID}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading breadcrumbs...\"}),product!==undefined?/*#__PURE__*/_jsx(ItemDetails,{product:product}):null]});}","map":{"version":3,"sources":["/home/ubuntu/Escritorio/github/app-011-meli-assignment/frontend/src/pages/SingleItem.jsx"],"names":["axios","React","useState","useEffect","useParams","Breadcrumbs","ItemDetails","SearchBar","ProductDetails","id","product","setProduct","categoryID","setCategoryID","fetches","result","data","undefined","item","fetchResult","category_id"],"mappings":"2gBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAEA,cAAe,SAASC,CAAAA,cAAT,EAA0B,gBACtBJ,SAAS,EADa,CAC7BK,EAD6B,YAC7BA,EAD6B,eAEPP,QAAQ,EAFD,wCAE9BQ,OAF8B,eAErBC,UAFqB,8BAGDT,QAAQ,EAHP,yCAG9BU,UAH8B,eAGlBC,aAHkB,eAMrCV,SAAS,CAAC,UAAM,CACZ;AACA,GAAMW,CAAAA,OAAO,0FAAG,gLACSd,CAAAA,KAAK,yDAC2BS,EAD3B,EADd,QACNM,MADM,eAIZJ,UAAU,CAACI,MAAM,CAACC,IAAR,CAAV,CACA;AALY,KAMRN,OAAO,GAAKO,SANJ,gDAOkBjB,CAAAA,KAAK,8CACWU,OAAO,CAACQ,IAAR,CAAaT,EADxB,EAPvB,QAOFU,WAPE,eAURN,aAAa,CAACM,WAAW,CAACH,IAAZ,CAAiBI,WAAlB,CAAb,CAVQ,sDAAH,kBAAPN,CAAAA,OAAO,0CAAb,CAaAA,OAAO,GACV,CAhBQ,CAgBN,CAACL,EAAD,CAAKC,OAAL,CAhBM,CAAT,CAoBA,mBACI,oCACI,KAAC,SAAD,IADJ,CAEMA,OAAO,GAAKO,SAAb,cACG,KAAC,WAAD,EAAa,QAAQ,CAAEL,UAAvB,EADH,cAEG,+CAJR,CAMMF,OAAO,GAAKO,SAAb,cAA0B,KAAC,WAAD,EAAa,OAAO,CAAEP,OAAtB,EAA1B,CAA8D,IANnE,GADJ,CAUH","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Breadcrumbs from '../components/Breadcrumbs'\nimport ItemDetails from '../components/ItemDetails'\nimport SearchBar from '../components/SearchBar'\n\nexport default function ProductDetails() {\n    const { id } = useParams();\n    const [product, setProduct] = useState();\n    const [categoryID, setCategoryID] = useState();\n\n\n    useEffect(() => {\n        // buscamos, por medio de la custom api, productos según query ingresada\n        const fetches = async () => {\n            const result = await axios(\n                `https://app-meli-test.herokuapp.com/api/items/${id}`,\n            );\n            setProduct(result.data);\n            // buscamos id de la categoría del producto\n            if (product !== undefined) {\n                const fetchResult = await axios(\n                    `https://api.mercadolibre.com/items/${product.item.id}`,\n                );\n                setCategoryID(fetchResult.data.category_id);\n            }\n        };\n        fetches();\n    }, [id, product]);\n\n\n\n    return (\n        <div>\n            <SearchBar />\n            {(product !== undefined) ?\n                <Breadcrumbs category={categoryID} /> :\n                <div>Loading breadcrumbs...</div>\n            }\n            {(product !== undefined) ? <ItemDetails product={product} /> : null}\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}